"use strict";(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[8935],{8453:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>s});var r=l(6540);const o={},t=r.createContext(o);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(t.Provider,{value:n},e.children)}},9549:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"notes/Development/article01","title":"Install OpenWebUI with ollama by docker","description":"0. Environment","source":"@site/docs/notes/Development/article01.md","sourceDirName":"notes/Development","slug":"/notes/Development/article01","permalink":"/Personal-Website/docs/notes/Development/article01","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/notes/Development/article01.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Software development","permalink":"/Personal-Website/docs/category/software-development"},"next":{"title":"Install OpenWebUI and ollama in Host (Anaconda)","permalink":"/Personal-Website/docs/notes/Development/article02"}}');var o=l(4848),t=l(8453);const a={sidebar_position:2},s="Install OpenWebUI with ollama by docker",i={},d=[{value:"0. Environment",id:"0-environment",level:3},{value:"1. Install Docker",id:"1-install-docker",level:3},{value:"2. Install OpenWebUI",id:"2-install-openwebui",level:3},{value:"3. Install ollama library",id:"3-install-ollama-library",level:3},{value:"4. Start Using OpenWebUI",id:"4-start-using-openwebui",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"install-openwebui-with-ollama-by-docker",children:"Install OpenWebUI with ollama by docker"})}),"\n",(0,o.jsx)(n.h3,{id:"0-environment",children:"0. Environment"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Prepare an environment w/ Nvidia GPU (ofc you can run OpenWebUI on CPU w/o GPU support)."}),"\n",(0,o.jsx)(n.li,{children:"In my case, I built OpenWebUI w/ ollama 3 on a Nvidia 4070 GPU support in VMware (Ubuntu 22.04)."}),"\n",(0,o.jsx)(n.li,{children:"I also built w/o GPU. It works, but slow."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"1-install-docker",children:"1. Install Docker"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Update apt tool"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'sudo apt update\r\nsudo apt upgrade\r\n\r\nsudo install -m 0755 -d /etc/apt/keyrings\r\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\r\nsudo chmod a+r /etc/apt/keyrings/docker.asc\r\n\r\necho \\\r\n "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\r\n $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \\\r\n sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\r\n\r\nsudo apt-get update\r\n\r\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add docker to group (To run docker w/o using sudo)"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"sudo groupadd docker\r\nsudo usermod -aG docker $USER\r\nnewgrp docker\r\ndocker run hello-world\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-install-openwebui",children:"2. Install OpenWebUI"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Run on CPU only (Not recommand, very slow...)"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker run -d -p 3000:8080 --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Run w/ Nvdia GPU support (Recommandation)"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker run -d -p 3000:8080 --gpus all --add-host=host.docker.internal:host-gateway -v open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:cuda\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Check if OpenWebUI is running on 0.0.0.0:3000->8080/tcp"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:" docker ps -a\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-install-ollama-library",children:"3. Install ollama library"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Create and run container by ollama image"}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/ollama/ollama",children:"https://hub.docker.com/r/ollama/ollama"})}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docker run -d -v ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Check if ollama is running on 0.0.0.0:11434->11434/tcp"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"4-start-using-openwebui",children:"4. Start Using OpenWebUI"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["http:// your IP :3000 (e.g. ",(0,o.jsx)(n.a,{href:"http://10.15.1.155:3000",children:"http://10.15.1.155:3000"}),")"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);